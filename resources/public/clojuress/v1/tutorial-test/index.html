<!DOCTYPE html>
<html><body style="background-color:#fbf8ef;"><head><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script></head><div><h1>clojuress.v1.tutorial-test</h1><div><i><small><a href="https://github.com/genmeblog/clojuress/tree/master/test/clojuress/v1/tutorial_test.clj">clojuress.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Fri Feb 07 10:27:37 CET 2020.</small></i><hr /></div><div>Checks: <b><b style="color:green">56 PASSED </b></b><hr /></div><div>Table of contents<ul><li><a href="#basic-examples">basic-examples</a></li><li><a href="#functions">functions</a></li><li><a href="#R-dataframes-and-tech.ml.dataset">R-dataframes-and-tech.ml.dataset</a></li><li><a href="#R-objects">R-objects</a></li><li><a href="#generating-code">generating-code</a></li><li><a href="#running-generated-code">running-generated-code</a></li><li><a href="#requiring-R-packages">requiring-R-packages</a></li><li><a href="#data-visualization">data-visualization</a></li><li><a href="#intermediary-representation-as-Java-objects">intermediary-representation-as-Java-objects</a></li><li><a href="#more-data-conversion-examples">more-data-conversion-examples</a></li><li><a href="#inspecting-R-functions">inspecting-R-functions</a></li></ul><hr /></div><p><div><h1>Clojuress tutorial</h1></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="basic-examples">~~~~basic-examples~~~~</a></div></p></p><p><div><h2>Basic examples</h2></div></p><p><div><p>Let us start by some basic usage examples of Clojuress.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require&nbsp;'[clojuress.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r&nbsp;eval-r->java&nbsp;r->java&nbsp;java->r&nbsp;java->clj&nbsp;java->naive-clj&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj&nbsp;clj->r&nbsp;->code&nbsp;r+&nbsp;colon]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojuress.v1.require&nbsp;:refer&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojuress.v1.robject&nbsp;:as&nbsp;robject]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojuress.v1.session&nbsp;:as&nbsp;session]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[notespace.v1.util&nbsp;:refer&nbsp;[check]])</br></code></div></div></p></p><p><div><p>First, let us make sure that we use the Rserve backend (in case we were using Renjin instead earlier), and that there are no R sessions currently running.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(session/set-default-session-type!&nbsp;:rserve)</br></code></div><div><code class="prettyprint lang-clj">(r/discard-all-sessions)</br></code></div></div></p></p><p><div><p>Now let us run some R code, and keep a Clojure handle to the return value.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;"1+2"))</br></code></div></div></p></p><p><div><p>Convert the R to Clojure: This part requires more thorough documentation.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"list(A=1,B=2,'#123strange<text>&nbsp;()'=3)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:A&nbsp;[1.0],&nbsp;:B&nbsp;[2.0],&nbsp;"#123strange<text>&nbsp;()"&nbsp;[3.0]}]</br></code></p><p><div><p>Run some code on a separate session (specified Rserve port, rather than the default one).</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;:session-args&nbsp;{:port&nbsp;4444})</br>&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[3.0])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</br></code></p><p><div><p>Convert Clojure data to R data. Note that <code>nil</code> is turned to <code>NA</code>.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->&nbsp;[1&nbsp;nil&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;clj->r)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;&nbsp;1&nbsp;NA&nbsp;&nbsp;3</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="functions">~~~~functions~~~~</a></div></p></p><p><div><h2>Functions</h2></div></p><p><div><p>An R function is also a Clojure function.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x)&nbsp;x*10"))</br></code></div></div></p></p><p><div><p>Let us apply it to Clojure data (implicitly converting that data to R).</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[50.0]]</br></code></p><p><div><p>We can also apply it to R data.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</br></code></p><p><div><p>Functions can get named arguments. Here we pass the <code>na.rm</code> argument, that tells R whether to remove missing values whenn computing the mean.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;:na.rm&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</br></code></p><p><div><p>An alternative call syntax:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;((r&nbsp;"mean")&nbsp;[1&nbsp;nil&nbsp;3]&nbsp;[:=&nbsp;:na.rm&nbsp;true])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.0]]</br></code></p><p><div><p>Anoter example:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[f&nbsp;(r&nbsp;"function(w,x,y=10,z=20)&nbsp;w+x+y+z")]</br>&nbsp;&nbsp;(->>&nbsp;[(f&nbsp;1&nbsp;2)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:y&nbsp;100)&nbsp;(f&nbsp;1&nbsp;2&nbsp;:z&nbsp;100)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[[33.0]&nbsp;[123.0]&nbsp;[113.0]])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;([33.0]&nbsp;[123.0]&nbsp;[113.0])]</br></code></p><p><div><p>Some functions are already created in Clojuress and given special names for convenience. For example:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r+&nbsp;1&nbsp;2&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[6]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[6]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(colon&nbsp;0&nbsp;9)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;10)))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="R-dataframes-and-tech.ml.dataset">~~~~R-dataframes-and-tech.ml.dataset~~~~</a></div></p></p><p><div><h2>R dataframes and <a href='https://github.com/techascent/tech.ml.dataset'>tech.ml.dataset</a> datasets</h2></div></p><p><div><p>Create a tech.ml.dataset dataset object, pass it to an R function to compute the row means, and convert the return value to Clojure.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;"function(data)&nbsp;rowMeans(data)")]</br>&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</br></code></p><p><div><p>Load the R package 'dplyr' (assuming it is installed).</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;"library(dplyr)")</br></code></div></div></p></p><p><div><p>Use dplyr to process some Clojure dataset, and convert back to the resulting dataset.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;"function(data)&nbsp;filter(data,&nbsp;x>=2)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;"function(data)&nbsp;mutate(data,&nbsp;z=x+y)")]</br>&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;(fn&nbsp;[d]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(=&nbsp;[{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0,&nbsp;:z&nbsp;7.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0,&nbsp;:z&nbsp;9.0}]))))))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:z&nbsp;|</br>|-------+-------+-------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;9.000&nbsp;|</br>]</br></code></p><p><div><p>Tibbles are also supported, as a special case of data frames.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;"library(tibble)")</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]))</br></code></div></div></p><code class="prettyprint lang-clj">#&nbsp;A&nbsp;tibble:&nbsp;3&nbsp;x&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;<int>&nbsp;<int></br>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</br>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[tibble&nbsp;(r&nbsp;"tibble")]</br>&nbsp;&nbsp;(->>&nbsp;(tibble&nbsp;:x&nbsp;[1&nbsp;2&nbsp;3]&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/->flyweight</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[{:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0}])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;({:x&nbsp;1.0,&nbsp;:y&nbsp;4.0}&nbsp;{:x&nbsp;2.0,&nbsp;:y&nbsp;5.0}&nbsp;{:x&nbsp;3.0,&nbsp;:y&nbsp;6.0})]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="R-objects">~~~~R-objects~~~~</a></div></p></p><p><div><h2>R objects</h2></div></p><p><div><p>Clojuress holds handles to R objects, that are stored in memory at the R session, where they are assigned random names.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;one+two&nbsp;(r&nbsp;"1+2"))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;clojuress.v1.robject.RObject))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;clojuress.v1.robject.RObject]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(:object-name&nbsp;one+two)</br></code></div></div></p><code class="prettyprint lang-clj">"xfc40f286629e4d4a"</br></code></p><p><div><p>We can figure out the place in R memory corresponding to an object's name.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->&nbsp;one+two</br>&nbsp;&nbsp;&nbsp;&nbsp;:object-name</br>&nbsp;&nbsp;&nbsp;&nbsp;clojuress.v1.objects-memory/object-name->memory-place)</br></code></div></div></p><code class="prettyprint lang-clj">".MEM$xfc40f286629e4d4a"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="generating-code">~~~~generating-code~~~~</a></div></p></p><p><div><h2>Generating code</h2></div></p><p><div><p>Let us see the code-generation mechanism of Clojuress, and the rules defining it.</p></div></p><p><div><p>We will need a reference to the R session:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;session&nbsp;(session/fetch-or-make&nbsp;nil))</br></code></div></div></p></p><p><div><p>For the following examples, we will use some dummy handles to R objects:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(robject/->RObject&nbsp;"x"&nbsp;session&nbsp;nil&nbsp;nil))</br></code></div><div><code class="prettyprint lang-clj">(def&nbsp;y&nbsp;(robject/->RObject&nbsp;"y"&nbsp;session&nbsp;nil&nbsp;nil))</br></code></div></div></p></p><p><div><p>.. and some real handles to R objects:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;minus-eleven&nbsp;(r&nbsp;"-11"))</br></code></div><div><code class="prettyprint lang-clj">(def&nbsp;abs&nbsp;(r&nbsp;"abs"))</br></code></div></div></p></p><p><div><p>For an r-object, we generate the code with that object's location in the R session memory.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;".MEM$x"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x"]</br></code></p><p><div><p>For a clojure value, we implicitly convert to an R object, generating the corresponding code.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"hello"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x40f7fc6a89a1494a"]</br></code></p><p><div><p>For a symbol, we generate the code with the corresponding R symbol.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;'x)</br></code></div></div></p><code class="prettyprint lang-clj">"x"</br></code></p><p><div><p>A sequential structure (list, vector, etc.) can be interpreted as a compound expression, for which code generation is defined accorting to the first list element.</p></div></p><p><div><p>For a list beginning with the symbol <code>'function</code>, we generate an R function definition.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,&nbsp;y)&nbsp;{x}"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,&nbsp;y)&nbsp;{x}"]</br></code></p><p><div><p>For a vector instead of list, we heve the same behaviour.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'[function&nbsp;[x&nbsp;y]&nbsp;x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"function(x,&nbsp;y)&nbsp;{x}"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;"function(x,&nbsp;y)&nbsp;{x}"]</br></code></p><p><div><p>For a list beginning with the symbol <code>'tilde</code>, we generate an R <code>&#126;</code>-furmula.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'(tilde&nbsp;x&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x&nbsp;~&nbsp;y)"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x&nbsp;~&nbsp;y)"]</br></code></p><p><div><p>For a list beginning with a symbol known to be a binary operator, we generate the code with that operator between all arguments.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'(+&nbsp;x&nbsp;y&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"(x&nbsp;+&nbsp;y&nbsp;+&nbsp;z)"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;"(x&nbsp;+&nbsp;y&nbsp;+&nbsp;z)"]</br></code></p><p><div><p>For a list beginning with another symbol, we generate a function call with that symbol as the function name.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'(f&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;"f(x)"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;"f(x)"]</br></code></p><p><div><p>For a list beginning with an R object that is a function, we generate a function call with that object as the function.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;'x]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(x\)"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x0269be8ed6b54f0c(x)"]</br></code></p><p><div><p>All other sequential things (that is, those not beginning with a symbol or R function) are intepreted as data, converted implicitly to R data.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;'(1&nbsp;2&nbsp;3)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;->code</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;re-matches&nbsp;#"\.MEM\$.*\(\.MEM\$.*\)"))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;".MEM$x0269be8ed6b54f0c(.MEM$x10745ef076c34682)"]</br></code></p><p><div><p>Some more examples, showing how these rules compose:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(f&nbsp;y)))</br></code></div></div></p><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{f(y)}"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(+&nbsp;x&nbsp;y)))</br></code></div></div></p><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{(x&nbsp;+&nbsp;y)}"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;['function&nbsp;'[x&nbsp;y]&nbsp;['+&nbsp;'x&nbsp;y]])</br></code></div></div></p><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{(x&nbsp;+&nbsp;.MEM$y)}"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(print&nbsp;x)&nbsp;(f&nbsp;x)))</br></code></div></div></p><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{print(x);&nbsp;f(x)}"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;['function&nbsp;'[x&nbsp;y]&nbsp;[abs&nbsp;'x]])</br></code></div></div></p><code class="prettyprint lang-clj">"function(x,&nbsp;y)&nbsp;{.MEM$x0269be8ed6b54f0c(x)}"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;[abs&nbsp;minus-eleven])</br></code></div></div></p><code class="prettyprint lang-clj">".MEM$x0269be8ed6b54f0c(.MEM$xad779dc9fb694574)"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->code&nbsp;[abs&nbsp;-11])</br></code></div></div></p><code class="prettyprint lang-clj">".MEM$x0269be8ed6b54f0c(.MEM$x9912184c8e054a55)"</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="running-generated-code">~~~~running-generated-code~~~~</a></div></p></p><p><div><h2>Running generated code</h2></div></p><p><div><p>Clojure forms can be run as R code. For example:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[abs&nbsp;(range&nbsp;-3&nbsp;0)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3&nbsp;2&nbsp;1]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[3&nbsp;2&nbsp;1]]</br></code></p><p><div><p>Let us repeat the basic examples from the beginning of this tutorial, this time generating code rather than writing it as Strings.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(r&nbsp;'(+&nbsp;1&nbsp;2)))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br></code></div><div><code class="prettyprint lang-clj">(->>&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[3]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(*&nbsp;x&nbsp;10))))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br></code></div><div><code class="prettyprint lang-clj">(->>&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[50]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[50]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">"checking&nbsp;again...&nbsp;"</br></code></div><div><code class="prettyprint lang-clj">(->>&nbsp;"5*5"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[250.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[250.0]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[row-means&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(rowMeans&nbsp;data)))]</br>&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row-means</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2.5&nbsp;3.5&nbsp;4.5])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2.5&nbsp;3.5&nbsp;4.5]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;'(library&nbsp;dplyr))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[filter-by-x&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(filter&nbsp;data&nbsp;(>=&nbsp;x&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column&nbsp;(r&nbsp;'(function&nbsp;[data]&nbsp;(mutate&nbsp;data&nbsp;(=&nbsp;z&nbsp;(+&nbsp;x&nbsp;y)))))]</br>&nbsp;&nbsp;(->>&nbsp;{:x&nbsp;[1&nbsp;2&nbsp;3],&nbsp;:y&nbsp;[4&nbsp;5&nbsp;6]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter-by-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add-z-column</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj))</br></code></div></div></p><code class="prettyprint lang-clj">_unnamed&nbsp;[2&nbsp;3]:</br></br>|&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;|&nbsp;(z&nbsp;=&nbsp;(x&nbsp;+&nbsp;y))&nbsp;|</br>|-------+-------+---------------|</br>|&nbsp;2.000&nbsp;|&nbsp;5.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.000&nbsp;|</br>|&nbsp;3.000&nbsp;|&nbsp;6.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.000&nbsp;|</br></br></code></p><p><div><p>The strange column name is due to dplyr's mutate behaviour when extra parens are added to the expression.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="requiring-R-packages">~~~~requiring-R-packages~~~~</a></div></p></p><p><div><h2>Requiring R packages</h2></div></p><p><div><p>Sometimes, we want to bring to the Clojure world functions and data from R packages. Here, we try to follow the <a href='https://github.com/cnuernber/libpython-clj/blob/master/test/libpython_clj/require_python_test.clj'>require-python</a> syntax of <a href='https://github.com/cnuernber/libpython-clj'>libpython-clj</a> (though currently in a less sophisticated way.)</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[stats&nbsp;:as&nbsp;statz&nbsp;:refer&nbsp;[median]])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.stats/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statz/median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[1&nbsp;2&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[2]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[2]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[datasets&nbsp;:as&nbsp;datasetz&nbsp;:refer&nbsp;[euro]])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;[r.datasets/euro&nbsp;datasetz/euro&nbsp;euro]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;apply&nbsp;=))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FRF&nbsp;</br>&nbsp;&nbsp;13.760300&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;1.955830&nbsp;&nbsp;166.386000&nbsp;&nbsp;&nbsp;&nbsp;5.945730&nbsp;&nbsp;&nbsp;&nbsp;6.559570&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LUF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NLG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PTE&nbsp;</br>&nbsp;&nbsp;&nbsp;0.787564&nbsp;1936.270000&nbsp;&nbsp;&nbsp;40.339900&nbsp;&nbsp;&nbsp;&nbsp;2.203710&nbsp;&nbsp;200.482000&nbsp;</br>]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:refer&nbsp;[$]])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'a)</br>&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;(check&nbsp;=&nbsp;[1])))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="data-visualization">~~~~data-visualization~~~~</a></div></p></p><p><div><h2>Data visualization</h2></div></p><p><div><p>Functions creating R plots can be wrapped in a way that returns an SVG.</p></div></p><p><div><p>Currently there is a bug that sometimes causes axes and labels to disappear when rendered inside a larger HTML.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[graphics&nbsp;:refer&nbsp;[plot]])</br></code></div><div><code class="prettyprint lang-clj">(require-r&nbsp;'[ggplot2&nbsp;:refer&nbsp;[ggplot&nbsp;aes&nbsp;geom_point&nbsp;xlab&nbsp;ylab&nbsp;labs]])</br></code></div><div><code class="prettyprint lang-clj">(require&nbsp;'[clojuress.v1.applications.plotting&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[plotting-function->svg&nbsp;ggplot->svg]])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plotting-function->svg&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->>&nbsp;rand</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeatedly&nbsp;30)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reductions&nbsp;+)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(plot&nbsp;:xlab&nbsp;"t"&nbsp;:ylab&nbsp;"y"&nbsp;:type&nbsp;"l"))))</br></code></div></div></p><?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="504pt" height="504pt" viewBox="0 0 504 504" version="1.1">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d="M 1.5 0 L 1.5 -7.5 L 7.5 -7.5 L 7.5 0 Z M 1.6875 -0.1875 L 7.3125 -0.1875 L 7.3125 -7.3125 L 1.6875 -7.3125 Z M 1.6875 -0.1875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 0.5 -4.234375 C 0.5 -5.253906 0.601562 -6.070312 0.8125 -6.6875 C 1.019531 -7.3125 1.328125 -7.789062 1.734375 -8.125 C 2.148438 -8.457031 2.671875 -8.625 3.296875 -8.625 C 3.753906 -8.625 4.15625 -8.53125 4.5 -8.34375 C 4.851562 -8.15625 5.144531 -7.882812 5.375 -7.53125 C 5.601562 -7.1875 5.78125 -6.765625 5.90625 -6.265625 C 6.03125 -5.765625 6.09375 -5.085938 6.09375 -4.234375 C 6.09375 -3.222656 5.988281 -2.410156 5.78125 -1.796875 C 5.582031 -1.179688 5.273438 -0.703125 4.859375 -0.359375 C 4.453125 -0.0234375 3.929688 0.140625 3.296875 0.140625 C 2.472656 0.140625 1.820312 -0.15625 1.34375 -0.75 C 0.78125 -1.457031 0.5 -2.617188 0.5 -4.234375 Z M 1.578125 -4.234375 C 1.578125 -2.828125 1.742188 -1.890625 2.078125 -1.421875 C 2.410156 -0.953125 2.816406 -0.71875 3.296875 -0.71875 C 3.785156 -0.71875 4.191406 -0.953125 4.515625 -1.421875 C 4.847656 -1.890625 5.015625 -2.828125 5.015625 -4.234375 C 5.015625 -5.648438 4.847656 -6.585938 4.515625 -7.046875 C 4.191406 -7.515625 3.78125 -7.75 3.28125 -7.75 C 2.800781 -7.75 2.414062 -7.546875 2.125 -7.140625 C 1.757812 -6.617188 1.578125 -5.648438 1.578125 -4.234375 Z M 1.578125 -4.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 0.5 -2.25 L 1.609375 -2.34375 C 1.691406 -1.800781 1.878906 -1.394531 2.171875 -1.125 C 2.472656 -0.851562 2.835938 -0.71875 3.265625 -0.71875 C 3.765625 -0.71875 4.191406 -0.910156 4.546875 -1.296875 C 4.898438 -1.679688 5.078125 -2.1875 5.078125 -2.8125 C 5.078125 -3.414062 4.90625 -3.890625 4.5625 -4.234375 C 4.226562 -4.585938 3.785156 -4.765625 3.234375 -4.765625 C 2.898438 -4.765625 2.59375 -4.6875 2.3125 -4.53125 C 2.039062 -4.375 1.828125 -4.175781 1.671875 -3.9375 L 0.6875 -4.0625 L 1.515625 -8.46875 L 5.796875 -8.46875 L 5.796875 -7.46875 L 2.359375 -7.46875 L 1.90625 -5.15625 C 2.414062 -5.519531 2.953125 -5.703125 3.515625 -5.703125 C 4.265625 -5.703125 4.894531 -5.441406 5.40625 -4.921875 C 5.925781 -4.398438 6.1875 -3.726562 6.1875 -2.90625 C 6.1875 -2.132812 5.960938 -1.460938 5.515625 -0.890625 C 4.960938 -0.203125 4.210938 0.140625 3.265625 0.140625 C 2.484375 0.140625 1.84375 -0.078125 1.34375 -0.515625 C 0.851562 -0.953125 0.570312 -1.53125 0.5 -2.25 Z M 0.5 -2.25 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 4.46875 0 L 3.421875 0 L 3.421875 -6.71875 C 3.160156 -6.476562 2.820312 -6.234375 2.40625 -5.984375 C 2 -5.742188 1.632812 -5.566406 1.3125 -5.453125 L 1.3125 -6.46875 C 1.894531 -6.75 2.40625 -7.082031 2.84375 -7.46875 C 3.289062 -7.863281 3.609375 -8.25 3.796875 -8.625 L 4.46875 -8.625 Z M 4.46875 0 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 6.046875 -1.015625 L 6.046875 0 L 0.359375 0 C 0.359375 -0.25 0.398438 -0.492188 0.484375 -0.734375 C 0.628906 -1.117188 0.859375 -1.5 1.171875 -1.875 C 1.492188 -2.25 1.957031 -2.679688 2.5625 -3.171875 C 3.5 -3.941406 4.128906 -4.550781 4.453125 -5 C 4.785156 -5.445312 4.953125 -5.867188 4.953125 -6.265625 C 4.953125 -6.679688 4.800781 -7.03125 4.5 -7.3125 C 4.195312 -7.601562 3.804688 -7.75 3.328125 -7.75 C 2.816406 -7.75 2.410156 -7.597656 2.109375 -7.296875 C 1.804688 -6.992188 1.648438 -6.570312 1.640625 -6.03125 L 0.5625 -6.140625 C 0.632812 -6.953125 0.910156 -7.566406 1.390625 -7.984375 C 1.878906 -8.410156 2.535156 -8.625 3.359375 -8.625 C 4.179688 -8.625 4.832031 -8.394531 5.3125 -7.9375 C 5.789062 -7.476562 6.03125 -6.910156 6.03125 -6.234375 C 6.03125 -5.890625 5.957031 -5.550781 5.8125 -5.21875 C 5.675781 -4.894531 5.441406 -4.546875 5.109375 -4.171875 C 4.785156 -3.804688 4.25 -3.304688 3.5 -2.671875 C 2.863281 -2.140625 2.453125 -1.773438 2.265625 -1.578125 C 2.085938 -1.390625 1.941406 -1.203125 1.828125 -1.015625 Z M 6.046875 -1.015625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-5">
<path style="stroke:none;" d="M 0.5 -2.265625 L 1.5625 -2.40625 C 1.675781 -1.8125 1.878906 -1.378906 2.171875 -1.109375 C 2.460938 -0.847656 2.816406 -0.71875 3.234375 -0.71875 C 3.734375 -0.71875 4.15625 -0.890625 4.5 -1.234375 C 4.84375 -1.578125 5.015625 -2.003906 5.015625 -2.515625 C 5.015625 -2.992188 4.851562 -3.390625 4.53125 -3.703125 C 4.21875 -4.023438 3.816406 -4.1875 3.328125 -4.1875 C 3.128906 -4.1875 2.878906 -4.144531 2.578125 -4.0625 L 2.703125 -5 C 2.773438 -4.988281 2.832031 -4.984375 2.875 -4.984375 C 3.320312 -4.984375 3.722656 -5.097656 4.078125 -5.328125 C 4.441406 -5.566406 4.625 -5.929688 4.625 -6.421875 C 4.625 -6.804688 4.492188 -7.125 4.234375 -7.375 C 3.972656 -7.632812 3.632812 -7.765625 3.21875 -7.765625 C 2.8125 -7.765625 2.46875 -7.632812 2.1875 -7.375 C 1.914062 -7.113281 1.742188 -6.726562 1.671875 -6.21875 L 0.609375 -6.40625 C 0.734375 -7.101562 1.023438 -7.644531 1.484375 -8.03125 C 1.941406 -8.425781 2.507812 -8.625 3.1875 -8.625 C 3.65625 -8.625 4.085938 -8.519531 4.484375 -8.3125 C 4.878906 -8.113281 5.179688 -7.84375 5.390625 -7.5 C 5.597656 -7.15625 5.703125 -6.785156 5.703125 -6.390625 C 5.703125 -6.023438 5.601562 -5.6875 5.40625 -5.375 C 5.207031 -5.070312 4.914062 -4.832031 4.53125 -4.65625 C 5.03125 -4.539062 5.421875 -4.296875 5.703125 -3.921875 C 5.984375 -3.554688 6.125 -3.09375 6.125 -2.53125 C 6.125 -1.78125 5.847656 -1.144531 5.296875 -0.625 C 4.753906 -0.101562 4.066406 0.15625 3.234375 0.15625 C 2.484375 0.15625 1.859375 -0.0664062 1.359375 -0.515625 C 0.859375 -0.972656 0.570312 -1.554688 0.5 -2.265625 Z M 0.5 -2.265625 "/>
</symbol>
<symbol overflow="visible" id="glyph0-6">
<path style="stroke:none;" d="M 3.09375 -0.9375 L 3.25 -0.015625 C 2.945312 0.046875 2.679688 0.078125 2.453125 0.078125 C 2.066406 0.078125 1.769531 0.0195312 1.5625 -0.09375 C 1.351562 -0.21875 1.203125 -0.378906 1.109375 -0.578125 C 1.023438 -0.773438 0.984375 -1.191406 0.984375 -1.828125 L 0.984375 -5.40625 L 0.21875 -5.40625 L 0.21875 -6.21875 L 0.984375 -6.21875 L 0.984375 -7.765625 L 2.03125 -8.390625 L 2.03125 -6.21875 L 3.09375 -6.21875 L 3.09375 -5.40625 L 2.03125 -5.40625 L 2.03125 -1.765625 C 2.03125 -1.460938 2.046875 -1.269531 2.078125 -1.1875 C 2.117188 -1.101562 2.179688 -1.035156 2.265625 -0.984375 C 2.347656 -0.929688 2.46875 -0.90625 2.625 -0.90625 C 2.75 -0.90625 2.90625 -0.914062 3.09375 -0.9375 Z M 3.09375 -0.9375 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d="M 0 -1.5 L -7.5 -1.5 L -7.5 -7.5 L 0 -7.5 Z M -0.1875 -1.6875 L -0.1875 -7.3125 L -7.3125 -7.3125 L -7.3125 -1.6875 Z M -0.1875 -1.6875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M -4.234375 -0.5 C -5.253906 -0.5 -6.070312 -0.601562 -6.6875 -0.8125 C -7.3125 -1.019531 -7.789062 -1.328125 -8.125 -1.734375 C -8.457031 -2.148438 -8.625 -2.671875 -8.625 -3.296875 C -8.625 -3.753906 -8.53125 -4.15625 -8.34375 -4.5 C -8.15625 -4.851562 -7.882812 -5.144531 -7.53125 -5.375 C -7.1875 -5.601562 -6.765625 -5.78125 -6.265625 -5.90625 C -5.765625 -6.03125 -5.085938 -6.09375 -4.234375 -6.09375 C -3.222656 -6.09375 -2.410156 -5.988281 -1.796875 -5.78125 C -1.179688 -5.582031 -0.703125 -5.273438 -0.359375 -4.859375 C -0.0234375 -4.453125 0.140625 -3.929688 0.140625 -3.296875 C 0.140625 -2.472656 -0.15625 -1.820312 -0.75 -1.34375 C -1.457031 -0.78125 -2.617188 -0.5 -4.234375 -0.5 Z M -4.234375 -1.578125 C -2.828125 -1.578125 -1.890625 -1.742188 -1.421875 -2.078125 C -0.953125 -2.410156 -0.71875 -2.816406 -0.71875 -3.296875 C -0.71875 -3.785156 -0.953125 -4.191406 -1.421875 -4.515625 C -1.890625 -4.847656 -2.828125 -5.015625 -4.234375 -5.015625 C -5.648438 -5.015625 -6.585938 -4.847656 -7.046875 -4.515625 C -7.515625 -4.191406 -7.75 -3.78125 -7.75 -3.28125 C -7.75 -2.800781 -7.546875 -2.414062 -7.140625 -2.125 C -6.617188 -1.757812 -5.648438 -1.578125 -4.234375 -1.578125 Z M -4.234375 -1.578125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-2">
<path style="stroke:none;" d="M -1.015625 -6.046875 L 0 -6.046875 L 0 -0.359375 C -0.25 -0.359375 -0.492188 -0.398438 -0.734375 -0.484375 C -1.117188 -0.628906 -1.5 -0.859375 -1.875 -1.171875 C -2.25 -1.492188 -2.679688 -1.957031 -3.171875 -2.5625 C -3.941406 -3.5 -4.550781 -4.128906 -5 -4.453125 C -5.445312 -4.785156 -5.867188 -4.953125 -6.265625 -4.953125 C -6.679688 -4.953125 -7.03125 -4.800781 -7.3125 -4.5 C -7.601562 -4.195312 -7.75 -3.804688 -7.75 -3.328125 C -7.75 -2.816406 -7.597656 -2.410156 -7.296875 -2.109375 C -6.992188 -1.804688 -6.570312 -1.648438 -6.03125 -1.640625 L -6.140625 -0.5625 C -6.953125 -0.632812 -7.566406 -0.910156 -7.984375 -1.390625 C -8.410156 -1.878906 -8.625 -2.535156 -8.625 -3.359375 C -8.625 -4.179688 -8.394531 -4.832031 -7.9375 -5.3125 C -7.476562 -5.789062 -6.910156 -6.03125 -6.234375 -6.03125 C -5.890625 -6.03125 -5.550781 -5.957031 -5.21875 -5.8125 C -4.894531 -5.675781 -4.546875 -5.441406 -4.171875 -5.109375 C -3.804688 -4.785156 -3.304688 -4.25 -2.671875 -3.5 C -2.140625 -2.863281 -1.773438 -2.453125 -1.578125 -2.265625 C -1.390625 -2.085938 -1.203125 -1.941406 -1.015625 -1.828125 Z M -1.015625 -6.046875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-3">
<path style="stroke:none;" d="M 0 -3.875 L -2.0625 -3.875 L -2.0625 -0.15625 L -3.03125 -0.15625 L -8.59375 -4.078125 L -8.59375 -4.9375 L -3.03125 -4.9375 L -3.03125 -6.09375 L -2.0625 -6.09375 L -2.0625 -4.9375 L 0 -4.9375 Z M -3.03125 -3.875 L -6.890625 -3.875 L -3.03125 -1.1875 Z M -3.03125 -3.875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-4">
<path style="stroke:none;" d="M -6.484375 -5.96875 L -6.40625 -4.921875 C -6.820312 -4.828125 -7.125 -4.695312 -7.3125 -4.53125 C -7.613281 -4.238281 -7.765625 -3.882812 -7.765625 -3.46875 C -7.765625 -3.132812 -7.671875 -2.835938 -7.484375 -2.578125 C -7.234375 -2.253906 -6.875 -1.992188 -6.40625 -1.796875 C -5.945312 -1.609375 -5.289062 -1.507812 -4.4375 -1.5 C -4.820312 -1.75 -5.109375 -2.054688 -5.296875 -2.421875 C -5.484375 -2.796875 -5.578125 -3.1875 -5.578125 -3.59375 C -5.578125 -4.289062 -5.316406 -4.882812 -4.796875 -5.375 C -4.273438 -5.875 -3.609375 -6.125 -2.796875 -6.125 C -2.253906 -6.125 -1.75 -6.003906 -1.28125 -5.765625 C -0.820312 -5.535156 -0.46875 -5.21875 -0.21875 -4.8125 C 0.0195312 -4.40625 0.140625 -3.945312 0.140625 -3.4375 C 0.140625 -2.550781 -0.179688 -1.832031 -0.828125 -1.28125 C -1.472656 -0.726562 -2.535156 -0.453125 -4.015625 -0.453125 C -5.679688 -0.453125 -6.890625 -0.757812 -7.640625 -1.375 C -8.296875 -1.90625 -8.625 -2.625 -8.625 -3.53125 C -8.625 -4.207031 -8.429688 -4.757812 -8.046875 -5.1875 C -7.671875 -5.625 -7.148438 -5.882812 -6.484375 -5.96875 Z M -2.78125 -1.671875 C -2.414062 -1.671875 -2.066406 -1.742188 -1.734375 -1.890625 C -1.410156 -2.046875 -1.160156 -2.257812 -0.984375 -2.53125 C -0.804688 -2.8125 -0.71875 -3.109375 -0.71875 -3.421875 C -0.71875 -3.859375 -0.894531 -4.238281 -1.25 -4.5625 C -1.613281 -4.882812 -2.101562 -5.046875 -2.71875 -5.046875 C -3.3125 -5.046875 -3.78125 -4.882812 -4.125 -4.5625 C -4.46875 -4.25 -4.640625 -3.851562 -4.640625 -3.375 C -4.640625 -2.894531 -4.46875 -2.488281 -4.125 -2.15625 C -3.78125 -1.832031 -3.332031 -1.671875 -2.78125 -1.671875 Z M -2.78125 -1.671875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-5">
<path style="stroke:none;" d="M -4.65625 -2.125 C -4.820312 -1.6875 -5.050781 -1.359375 -5.34375 -1.140625 C -5.644531 -0.929688 -6 -0.828125 -6.40625 -0.828125 C -7.03125 -0.828125 -7.554688 -1.050781 -7.984375 -1.5 C -8.410156 -1.957031 -8.625 -2.554688 -8.625 -3.296875 C -8.625 -4.046875 -8.40625 -4.648438 -7.96875 -5.109375 C -7.53125 -5.566406 -7 -5.796875 -6.375 -5.796875 C -5.976562 -5.796875 -5.632812 -5.691406 -5.34375 -5.484375 C -5.050781 -5.273438 -4.820312 -4.957031 -4.65625 -4.53125 C -4.488281 -5.0625 -4.210938 -5.460938 -3.828125 -5.734375 C -3.441406 -6.003906 -2.984375 -6.140625 -2.453125 -6.140625 C -1.722656 -6.140625 -1.109375 -5.878906 -0.609375 -5.359375 C -0.109375 -4.847656 0.140625 -4.164062 0.140625 -3.3125 C 0.140625 -2.46875 -0.109375 -1.785156 -0.609375 -1.265625 C -1.109375 -0.742188 -1.734375 -0.484375 -2.484375 -0.484375 C -3.046875 -0.484375 -3.515625 -0.625 -3.890625 -0.90625 C -4.265625 -1.195312 -4.519531 -1.601562 -4.65625 -2.125 Z M -6.453125 -1.90625 C -6.046875 -1.90625 -5.710938 -2.035156 -5.453125 -2.296875 C -5.191406 -2.566406 -5.0625 -2.910156 -5.0625 -3.328125 C -5.0625 -3.734375 -5.1875 -4.066406 -5.4375 -4.328125 C -5.695312 -4.585938 -6.015625 -4.71875 -6.390625 -4.71875 C -6.773438 -4.71875 -7.097656 -4.582031 -7.359375 -4.3125 C -7.628906 -4.039062 -7.765625 -3.707031 -7.765625 -3.3125 C -7.765625 -2.90625 -7.632812 -2.566406 -7.375 -2.296875 C -7.113281 -2.035156 -6.804688 -1.90625 -6.453125 -1.90625 Z M -2.484375 -1.578125 C -2.179688 -1.578125 -1.890625 -1.644531 -1.609375 -1.78125 C -1.328125 -1.925781 -1.109375 -2.140625 -0.953125 -2.421875 C -0.796875 -2.703125 -0.71875 -3.003906 -0.71875 -3.328125 C -0.71875 -3.828125 -0.878906 -4.238281 -1.203125 -4.5625 C -1.523438 -4.894531 -1.9375 -5.0625 -2.4375 -5.0625 C -2.945312 -5.0625 -3.367188 -4.894531 -3.703125 -4.5625 C -4.035156 -4.226562 -4.203125 -3.804688 -4.203125 -3.296875 C -4.203125 -2.796875 -4.035156 -2.382812 -3.703125 -2.0625 C -3.378906 -1.738281 -2.972656 -1.578125 -2.484375 -1.578125 Z M -2.484375 -1.578125 "/>
</symbol>
<symbol overflow="visible" id="glyph1-6">
<path style="stroke:none;" d="M 0 -4.46875 L 0 -3.421875 L -6.71875 -3.421875 C -6.476562 -3.160156 -6.234375 -2.820312 -5.984375 -2.40625 C -5.742188 -2 -5.566406 -1.632812 -5.453125 -1.3125 L -6.46875 -1.3125 C -6.75 -1.894531 -7.082031 -2.40625 -7.46875 -2.84375 C -7.863281 -3.289062 -8.25 -3.609375 -8.625 -3.796875 L -8.625 -4.46875 Z M 0 -4.46875 "/>
</symbol>
<symbol overflow="visible" id="glyph1-7">
<path style="stroke:none;" d="M 2.390625 -0.75 L 1.40625 -0.625 C 1.46875 -0.851562 1.5 -1.054688 1.5 -1.234375 C 1.5 -1.460938 1.457031 -1.644531 1.375 -1.78125 C 1.300781 -1.925781 1.195312 -2.046875 1.0625 -2.140625 C 0.945312 -2.203125 0.679688 -2.3125 0.265625 -2.46875 C 0.210938 -2.476562 0.128906 -2.507812 0.015625 -2.5625 L -6.21875 -0.1875 L -6.21875 -1.328125 L -2.625 -2.625 C -2.164062 -2.789062 -1.679688 -2.941406 -1.171875 -3.078125 C -1.660156 -3.203125 -2.132812 -3.347656 -2.59375 -3.515625 L -6.21875 -4.84375 L -6.21875 -5.890625 L 0.109375 -3.53125 C 0.785156 -3.269531 1.253906 -3.070312 1.515625 -2.9375 C 1.867188 -2.75 2.125 -2.53125 2.28125 -2.28125 C 2.445312 -2.039062 2.53125 -1.753906 2.53125 -1.421875 C 2.53125 -1.222656 2.484375 -1 2.390625 -0.75 Z M 2.390625 -0.75 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<rect x="0" y="0" width="504" height="504" style="fill:rgb(100%,100%,100%);fill-opacity:1;stroke:none;"/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 74.398438 416.800781 L 87.640625 411.175781 L 100.882812 385.652344 L 114.125 372.347656 L 127.367188 353.648438 L 140.605469 339.71875 L 153.847656 337.546875 L 167.089844 312.710938 L 180.332031 290.859375 L 193.574219 270.515625 L 206.8125 259.289062 L 220.054688 257.367188 L 233.296875 237.878906 L 246.539062 229.929688 L 259.78125 212.582031 L 273.019531 208.589844 L 286.261719 205.335938 L 299.503906 198.167969 L 312.746094 176.863281 L 325.984375 161.460938 L 339.226562 157.710938 L 352.46875 152.773438 L 365.710938 131.390625 L 378.953125 129.179688 L 392.191406 121.839844 L 405.433594 109.632812 L 418.675781 106.414062 L 431.917969 94.515625 L 445.160156 73.433594 L 458.398438 72.800781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 458.398438 430.558594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 61.160156 430.558594 L 61.160156 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 127.367188 430.558594 L 127.367188 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 193.574219 430.558594 L 193.574219 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 259.78125 430.558594 L 259.78125 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 325.984375 430.558594 L 325.984375 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 392.191406 430.558594 L 392.191406 437.761719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 458.398438 430.558594 L 458.398438 437.761719 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="57.660156" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="123.867188" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="186.574219" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="193.248047" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="252.78125" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="259.455078" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="318.984375" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="325.658203" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="385.191406" y="456.34375"/>
  <use xlink:href="#glyph0-2" x="391.865234" y="456.34375"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-5" x="451.398438" y="456.34375"/>
  <use xlink:href="#glyph0-1" x="458.072266" y="456.34375"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 424.480469 L 59.039062 102.964844 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 424.480469 L 51.839844 424.480469 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 370.894531 L 51.839844 370.894531 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 317.308594 L 51.839844 317.308594 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 263.722656 L 51.839844 263.722656 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 210.136719 L 51.839844 210.136719 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 156.550781 L 51.839844 156.550781 "/>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 102.964844 L 51.839844 102.964844 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="41.625" y="427.980469"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-2" x="41.625" y="374.394531"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-3" x="41.625" y="320.808594"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-4" x="41.625" y="267.222656"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-5" x="41.625" y="213.636719"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-6" x="41.625" y="163.550781"/>
  <use xlink:href="#glyph1-1" x="41.625" y="156.876953"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-6" x="41.625" y="109.964844"/>
  <use xlink:href="#glyph1-2" x="41.625" y="103.291016"/>
</g>
<path style="fill:none;stroke-width:0.75;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 59.039062 430.558594 L 473.761719 430.558594 L 473.761719 59.039062 L 59.039062 59.039062 L 59.039062 430.558594 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-6" x="264.398438" y="485.144531"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-7" x="12.824219" y="247.800781"/>
</g>
</g>
</svg>
</p><p><div><p>ggplot2 plots can be also turned into SVG.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(ggplot->svg&nbsp;(let&nbsp;[x&nbsp;(repeatedly&nbsp;99&nbsp;rand)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(map&nbsp;+&nbsp;x&nbsp;(repeatedly&nbsp;99&nbsp;rand))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;{:x&nbsp;x,&nbsp;:y&nbsp;y}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset/name-values-seq->dataset</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ggplot&nbsp;(aes&nbsp;:x&nbsp;x&nbsp;:y&nbsp;y&nbsp;:color&nbsp;'(+&nbsp;x&nbsp;y)&nbsp;:size&nbsp;'(/&nbsp;x&nbsp;y)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(geom_point)&nbsp;(xlab&nbsp;"x")&nbsp;(ylab&nbsp;"y")))))</br></code></div></div></p><?xml version='1.0' encoding='UTF-8' ?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 504.00 504.00'>
<defs>
  <style type='text/css'><![CDATA[
    line, polyline, polygon, path, rect, circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #FFFFFF;'/>
<rect x='0.00' y='0.00' width='504.00' height='504.00' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' />
<defs>
  <clipPath id='cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4'>
    <rect x='35.57' y='5.48' width='401.14' height='467.03' />
  </clipPath>
</defs>
<rect x='35.57' y='5.48' width='401.14' height='467.03' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,411.40 436.72,411.40 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,299.53 436.72,299.53 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,187.65 436.72,187.65 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,75.78 436.72,75.78 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='98.63,472.51 98.63,5.48 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='190.58,472.51 190.58,5.48 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='282.53,472.51 282.53,5.48 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='374.48,472.51 374.48,5.48 ' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,467.33 436.72,467.33 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,355.46 436.72,355.46 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,243.59 436.72,243.59 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,131.72 436.72,131.72 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='35.57,19.84 436.72,19.84 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='52.66,472.51 52.66,5.48 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='144.61,472.51 144.61,5.48 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='236.56,472.51 236.56,5.48 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='328.50,472.51 328.50,5.48 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<polyline points='420.45,472.51 420.45,5.48 ' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='402.70' cy='66.80' r='5.30pt' style='stroke-width: 0.71; stroke: #50A6E8; fill: #50A6E8;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='117.64' cy='329.58' r='4.23pt' style='stroke-width: 0.71; stroke: #22486A; fill: #22486A;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='250.43' cy='231.94' r='5.22pt' style='stroke-width: 0.71; stroke: #346C9B; fill: #346C9B;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='163.12' cy='395.63' r='6.61pt' style='stroke-width: 0.71; stroke: #1E405F; fill: #1E405F;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='291.20' cy='202.61' r='5.36pt' style='stroke-width: 0.71; stroke: #3A78AB; fill: #3A78AB;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='411.81' cy='171.45' r='6.02pt' style='stroke-width: 0.71; stroke: #458FCA; fill: #458FCA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='134.74' cy='327.52' r='4.57pt' style='stroke-width: 0.71; stroke: #234A6D; fill: #234A6D;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='272.77' cy='324.24' r='6.61pt' style='stroke-width: 0.71; stroke: #2C5C85; fill: #2C5C85;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='233.31' cy='172.77' r='4.65pt' style='stroke-width: 0.71; stroke: #3977A9; fill: #3977A9;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='248.25' cy='179.65' r='4.83pt' style='stroke-width: 0.71; stroke: #3977AA; fill: #3977AA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='53.81' cy='440.82' r='1.90pt' style='stroke-width: 0.71; stroke: #132B43; fill: #132B43;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='158.78' cy='361.58' r='5.59pt' style='stroke-width: 0.71; stroke: #214668; fill: #214668;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='256.23' cy='265.12' r='5.60pt' style='stroke-width: 0.71; stroke: #316693; fill: #316693;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='342.39' cy='286.10' r='6.71pt' style='stroke-width: 0.71; stroke: #346D9C; fill: #346D9C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='123.11' cy='413.51' r='6.20pt' style='stroke-width: 0.71; stroke: #1A3855; fill: #1A3855;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='415.58' cy='237.91' r='6.68pt' style='stroke-width: 0.71; stroke: #3E81B7; fill: #3E81B7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='219.04' cy='302.37' r='5.60pt' style='stroke-width: 0.71; stroke: #2B5A82; fill: #2B5A82;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='311.91' cy='129.08' r='5.05pt' style='stroke-width: 0.71; stroke: #438BC4; fill: #438BC4;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='124.33' cy='233.23' r='3.64pt' style='stroke-width: 0.71; stroke: #2C5C85; fill: #2C5C85;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='118.96' cy='407.80' r='5.82pt' style='stroke-width: 0.71; stroke: #1A3955; fill: #1A3955;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='58.73' cy='268.07' r='1.42pt' style='stroke-width: 0.71; stroke: #244D71; fill: #244D71;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='68.21' cy='289.57' r='2.43pt' style='stroke-width: 0.71; stroke: #234A6C; fill: #234A6C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='112.73' cy='281.35' r='3.71pt' style='stroke-width: 0.71; stroke: #265176; fill: #265176;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='358.11' cy='70.31' r='5.05pt' style='stroke-width: 0.71; stroke: #4D9FDE; fill: #4D9FDE;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='222.56' cy='286.95' r='5.46pt' style='stroke-width: 0.71; stroke: #2C5D87; fill: #2C5D87;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='318.45' cy='291.44' r='6.56pt' style='stroke-width: 0.71; stroke: #326996; fill: #326996;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='377.74' cy='108.33' r='5.37pt' style='stroke-width: 0.71; stroke: #4A99D7; fill: #4A99D7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='295.51' cy='128.26' r='4.92pt' style='stroke-width: 0.71; stroke: #4289C1; fill: #4289C1;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='232.84' cy='316.52' r='5.98pt' style='stroke-width: 0.71; stroke: #2A5980; fill: #2A5980;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='380.50' cy='153.47' r='5.68pt' style='stroke-width: 0.71; stroke: #458FC9; fill: #458FC9;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='158.57' cy='203.97' r='4.00pt' style='stroke-width: 0.71; stroke: #316793; fill: #316793;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='62.36' cy='279.45' r='2.04pt' style='stroke-width: 0.71; stroke: #234B6E; fill: #234B6E;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='358.89' cy='111.56' r='5.27pt' style='stroke-width: 0.71; stroke: #4895D2; fill: #4895D2;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='372.17' cy='147.81' r='5.58pt' style='stroke-width: 0.71; stroke: #458FCA; fill: #458FCA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='263.57' cy='267.93' r='5.70pt' style='stroke-width: 0.71; stroke: #316793; fill: #316793;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='239.07' cy='155.49' r='4.60pt' style='stroke-width: 0.71; stroke: #3B7BAF; fill: #3B7BAF;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='113.65' cy='380.26' r='4.88pt' style='stroke-width: 0.71; stroke: #1C3D5C; fill: #1C3D5C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='351.66' cy='122.69' r='5.29pt' style='stroke-width: 0.71; stroke: #4792CD; fill: #4792CD;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='180.35' cy='170.47' r='4.09pt' style='stroke-width: 0.71; stroke: #3671A1; fill: #3671A1;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='270.38' cy='283.44' r='5.96pt' style='stroke-width: 0.71; stroke: #306490; fill: #306490;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='412.12' cy='74.68' r='5.40pt' style='stroke-width: 0.71; stroke: #50A5E7; fill: #50A5E7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='75.05' cy='451.28' r='6.36pt' style='stroke-width: 0.71; stroke: #132B44; fill: #132B44;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='193.62' cy='257.64' r='4.81pt' style='stroke-width: 0.71; stroke: #2E608A; fill: #2E608A;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='110.10' cy='209.56' r='3.27pt' style='stroke-width: 0.71; stroke: #2D5F89; fill: #2D5F89;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='397.55' cy='190.25' r='6.08pt' style='stroke-width: 0.71; stroke: #4289C1; fill: #4289C1;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='344.45' cy='254.51' r='6.31pt' style='stroke-width: 0.71; stroke: #3874A5; fill: #3874A5;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='259.27' cy='131.78' r='4.65pt' style='stroke-width: 0.71; stroke: #3F83BA; fill: #3F83BA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='314.25' cy='114.29' r='4.98pt' style='stroke-width: 0.71; stroke: #458FC9; fill: #458FC9;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='255.64' cy='209.48' r='5.10pt' style='stroke-width: 0.71; stroke: #3772A2; fill: #3772A2;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='378.30' cy='73.52' r='5.19pt' style='stroke-width: 0.71; stroke: #4EA1E1; fill: #4EA1E1;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='164.26' cy='353.14' r='5.53pt' style='stroke-width: 0.71; stroke: #22496B; fill: #22496B;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='344.08' cy='246.60' r='6.22pt' style='stroke-width: 0.71; stroke: #3876A7; fill: #3876A7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='195.81' cy='252.21' r='4.79pt' style='stroke-width: 0.71; stroke: #2E618C; fill: #2E618C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='252.40' cy='216.40' r='5.12pt' style='stroke-width: 0.71; stroke: #3670A0; fill: #3670A0;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='180.87' cy='196.97' r='4.24pt' style='stroke-width: 0.71; stroke: #336B99; fill: #336B99;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='131.08' cy='237.39' r='3.78pt' style='stroke-width: 0.71; stroke: #2C5C85; fill: #2C5C85;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='415.36' cy='76.63' r='5.43pt' style='stroke-width: 0.71; stroke: #50A5E7; fill: #50A5E7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='275.01' cy='300.24' r='6.24pt' style='stroke-width: 0.71; stroke: #2E618C; fill: #2E618C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='67.87' cy='291.64' r='2.42pt' style='stroke-width: 0.71; stroke: #22496C; fill: #22496C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='178.02' cy='293.04' r='4.93pt' style='stroke-width: 0.71; stroke: #29567E; fill: #29567E;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='271.59' cy='332.57' r='6.76pt' style='stroke-width: 0.71; stroke: #2B5A82; fill: #2B5A82;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='121.67' cy='382.34' r='5.16pt' style='stroke-width: 0.71; stroke: #1D3E5C; fill: #1D3E5C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='190.78' cy='351.94' r='5.98pt' style='stroke-width: 0.71; stroke: #244C70; fill: #244C70;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='415.87' cy='213.22' r='6.42pt' style='stroke-width: 0.71; stroke: #4186BE; fill: #4186BE;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='168.28' cy='374.29' r='6.07pt' style='stroke-width: 0.71; stroke: #204566; fill: #204566;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='311.43' cy='107.72' r='4.93pt' style='stroke-width: 0.71; stroke: #4690CA; fill: #4690CA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='396.23' cy='234.45' r='6.50pt' style='stroke-width: 0.71; stroke: #3D7FB4; fill: #3D7FB4;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='418.48' cy='33.76' r='5.23pt' style='stroke-width: 0.71; stroke: #55B0F5; fill: #55B0F5;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='336.42' cy='162.77' r='5.43pt' style='stroke-width: 0.71; stroke: #4187BF; fill: #4187BF;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='98.58' cy='233.66' r='3.14pt' style='stroke-width: 0.71; stroke: #2A5981; fill: #2A5981;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='240.97' cy='279.27' r='5.58pt' style='stroke-width: 0.71; stroke: #2E618C; fill: #2E618C;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='86.25' cy='345.90' r='3.52pt' style='stroke-width: 0.71; stroke: #1E4160; fill: #1E4160;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='223.47' cy='315.26' r='5.84pt' style='stroke-width: 0.71; stroke: #2A587F; fill: #2A587F;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='344.61' cy='73.53' r='4.98pt' style='stroke-width: 0.71; stroke: #4C9CDB; fill: #4C9CDB;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='291.42' cy='231.87' r='5.61pt' style='stroke-width: 0.71; stroke: #3772A2; fill: #3772A2;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='108.75' cy='228.94' r='3.33pt' style='stroke-width: 0.71; stroke: #2B5B84; fill: #2B5B84;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='73.34' cy='283.53' r='2.63pt' style='stroke-width: 0.71; stroke: #234B6F; fill: #234B6F;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='416.88' cy='26.71' r='5.19pt' style='stroke-width: 0.71; stroke: #56B1F7; fill: #56B1F7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='244.91' cy='193.18' r='4.88pt' style='stroke-width: 0.71; stroke: #3874A5; fill: #3874A5;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='255.13' cy='282.60' r='5.78pt' style='stroke-width: 0.71; stroke: #2F628E; fill: #2F628E;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='205.79' cy='271.99' r='5.09pt' style='stroke-width: 0.71; stroke: #2D5E88; fill: #2D5E88;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='397.67' cy='243.28' r='6.61pt' style='stroke-width: 0.71; stroke: #3C7DB2; fill: #3C7DB2;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='290.03' cy='167.70' r='5.11pt' style='stroke-width: 0.71; stroke: #3D80B5; fill: #3D80B5;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='382.72' cy='91.50' r='5.31pt' style='stroke-width: 0.71; stroke: #4C9DDD; fill: #4C9DDD;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='405.79' cy='167.46' r='5.95pt' style='stroke-width: 0.71; stroke: #458FCA; fill: #458FCA;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='391.78' cy='167.04' r='5.85pt' style='stroke-width: 0.71; stroke: #448DC7; fill: #448DC7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='274.13' cy='135.96' r='4.80pt' style='stroke-width: 0.71; stroke: #4084BB; fill: #4084BB;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='93.25' cy='274.59' r='3.21pt' style='stroke-width: 0.71; stroke: #265074; fill: #265074;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='380.01' cy='59.41' r='5.13pt' style='stroke-width: 0.71; stroke: #50A4E6; fill: #50A4E6;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='315.69' cy='209.44' r='5.62pt' style='stroke-width: 0.71; stroke: #3B7AAD; fill: #3B7AAD;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='280.02' cy='258.29' r='5.77pt' style='stroke-width: 0.71; stroke: #336B99; fill: #336B99;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='197.81' cy='307.53' r='5.38pt' style='stroke-width: 0.71; stroke: #29567D; fill: #29567D;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='151.88' cy='267.87' r='4.31pt' style='stroke-width: 0.71; stroke: #2A5880; fill: #2A5880;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='260.88' cy='225.13' r='5.27pt' style='stroke-width: 0.71; stroke: #356F9F; fill: #356F9F;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='88.70' cy='439.95' r='6.21pt' style='stroke-width: 0.71; stroke: #152F48; fill: #152F48;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='213.94' cy='182.82' r='4.52pt' style='stroke-width: 0.71; stroke: #3772A3; fill: #3772A3;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='226.53' cy='342.40' r='6.35pt' style='stroke-width: 0.71; stroke: #275278; fill: #275278;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='269.44' cy='148.71' r='4.83pt' style='stroke-width: 0.71; stroke: #3E81B7; fill: #3E81B7;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<circle cx='199.84' cy='279.58' r='5.09pt' style='stroke-width: 0.71; stroke: #2C5C85; fill: #2C5C85;' clip-path='url(#cpMzUuNTd8NDM2LjcyfDQ3Mi41MXw1LjQ4)' />
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='504.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='18.41' y='470.48' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='12.23px' lengthAdjust='spacingAndGlyphs'>0.0</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='18.41' y='358.61' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='12.23px' lengthAdjust='spacingAndGlyphs'>0.5</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='18.41' y='246.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='12.23px' lengthAdjust='spacingAndGlyphs'>1.0</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='18.41' y='134.87' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='12.23px' lengthAdjust='spacingAndGlyphs'>1.5</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='18.41' y='22.99' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='12.23px' lengthAdjust='spacingAndGlyphs'>2.0</text></g>
<polyline points='32.83,467.33 35.57,467.33 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='32.83,355.46 35.57,355.46 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='32.83,243.59 35.57,243.59 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='32.83,131.72 35.57,131.72 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='32.83,19.84 35.57,19.84 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='52.66,475.25 52.66,472.51 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='144.61,475.25 144.61,472.51 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='236.56,475.25 236.56,472.51 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='328.50,475.25 328.50,472.51 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<polyline points='420.45,475.25 420.45,472.51 ' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='44.10' y='483.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.00</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='136.04' y='483.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.25</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='227.99' y='483.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.50</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='319.94' y='483.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.75</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='411.89' y='483.74' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>1.00</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='233.39' y='496.21' style='font-size: 11.00px; font-family: Arial;' textLength='5.50px' lengthAdjust='spacingAndGlyphs'>x</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text transform='translate(13.35,241.74) rotate(-90)' style='font-size: 11.00px; font-family: Arial;' textLength='5.50px' lengthAdjust='spacingAndGlyphs'>y</text></g>
<rect x='447.67' y='137.77' width='50.85' height='78.47' style='stroke-width: 1.07; stroke: none; fill: #FFFFFF;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='453.15' y='152.28' style='font-size: 11.00px; font-family: Arial;' textLength='21.38px' lengthAdjust='spacingAndGlyphs'>(x/y)</text></g>
<rect x='453.15' y='158.92' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<circle cx='461.79' cy='167.56' r='4.03pt' style='stroke-width: 0.71; fill: #000000;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<rect x='453.15' y='176.20' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<circle cx='461.79' cy='184.84' r='5.18pt' style='stroke-width: 0.71; fill: #000000;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<rect x='453.15' y='193.48' width='17.28' height='17.28' style='stroke-width: 1.07; stroke: #FFFFFF; fill: #F2F2F2;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<circle cx='461.79' cy='202.12' r='6.05pt' style='stroke-width: 0.71; fill: #000000;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='475.91' y='170.71' style='font-size: 8.80px; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.25</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='475.91' y='187.99' style='font-size: 8.80px; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.50</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='475.91' y='205.27' style='font-size: 8.80px; font-family: Arial;' textLength='17.13px' lengthAdjust='spacingAndGlyphs'>0.75</text></g>
<rect x='447.67' y='227.19' width='41.82' height='113.03' style='stroke-width: 1.07; stroke: none; fill: #FFFFFF;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><image width='17.28' height='86.40' x='453.15' y='248.34' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABXCAYAAAAJWxWIAAAABmJLR0QA/wD/AP+gvaeTAAABNklEQVRYhc2YwVkGQQxCYUxzNmAL1mcv9uJlBv6DawXzDm4B+RYCJBN/fP1Ul1/l93Vb5O+b9vqHJB9Nc+7ryJom14XOElNIiUYFClkMRypUyK6mALTEEDRD7XcL6cjWqAC0QNBkCJoKdc1U1yIK2qKgRZT7KUHKmhKCNJWQlNdoHQEcLSghvalgczUioAmCtqmuPTqC5hpi2oMKEjFtIB0Jcr9D6UjW6F8NSCpquWArRLaoPdvoMspMWgjaDjYgFwRNlPsXlEfZi9pqsWCjRrahHXJXVLAFcv+hwp8i+/eZhWQ2Ff4xFbUU2ZRFIvZRQ5w0FmRaKiFPqXEkSkfsux8hG1J2ujQKcYfcFNnUfkStx88higg26g5JnQ8fsu/bb+5WC1kkqUbEhV0Sd/O3/HlbpG/7+wX6zEQzSzM5XAAAAABJRU5ErkJggg=='/></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='475.91' y='310.33' style='font-size: 8.80px; font-family: Arial;' textLength='4.89px' lengthAdjust='spacingAndGlyphs'>1</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='475.91' y='281.41' style='font-size: 8.80px; font-family: Arial;' textLength='4.89px' lengthAdjust='spacingAndGlyphs'>2</text></g>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)'><text x='453.15' y='241.70' style='font-size: 11.00px; font-family: Arial;' textLength='30.86px' lengthAdjust='spacingAndGlyphs'>(x + y)</text></g>
<line x1='453.15' y1='307.18' x2='456.61' y2='307.18' style='stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<line x1='453.15' y1='278.26' x2='456.61' y2='278.26' style='stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<line x1='466.98' y1='307.18' x2='470.43' y2='307.18' style='stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
<line x1='466.98' y1='278.26' x2='470.43' y2='278.26' style='stroke-width: 0.38; stroke: #FFFFFF; stroke-linecap: butt;' clip-path='url(#cpMC4wMHw1MDQuMDB8NTA0LjAwfDAuMDA=)' />
</svg>
</p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="intermediary-representation-as-Java-objects">~~~~intermediary-representation-as-Java-objects~~~~</a></div></p></p><p><div><h2>Intermediary representation as Java objects.</h2></div></p><p><div><p>Clojuress relies on the fact of an intemediary representation of java, as Java objects. This is usually hidden from the user, but may be useful sometimes. In the current implementation, this is based on <a href='https://github.com/s-u/REngine'>REngine</a>.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(import&nbsp;(org.rosuda.REngine&nbsp;REXP&nbsp;REXPInteger&nbsp;REXPDouble))</br></code></div></div></p></p><p><div><p>We can convert data between R and Java.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(REXPInteger.&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[1]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[1]]</br></code></p><p><div><p>We can further convert data from the java representation to Clojure.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</br></code></p><p><div><p>On the opposite direction, we can also convert Clojure data into the Java represenattion.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPInteger))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPInteger]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(range&nbsp;1&nbsp;10)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(range&nbsp;1&nbsp;10)))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9]]</br></code></p><p><div><p>There is an alternative way of conversion from Java to Clojure, naively converting the internal Java representation to a Clojure data structure. It can be handy when one wants to have plain access to all the metadata (R attributes), etc. </p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"1:9"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</br></code></div></div></p><code class="prettyprint lang-clj">{:attr&nbsp;nil,&nbsp;:value&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]}</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"data.frame(x=1:3,y=factor('a','a','b'))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->naive-clj)</br></code></div></div></p><code class="prettyprint lang-clj">{:attr</br>&nbsp;{:names&nbsp;["x",&nbsp;"y"],</br>&nbsp;&nbsp;:row.names&nbsp;[-2147483648,&nbsp;-3],</br>&nbsp;&nbsp;:class&nbsp;["data.frame"]},</br>&nbsp;:value&nbsp;{:x&nbsp;[1,&nbsp;2,&nbsp;3],&nbsp;:y&nbsp;["b",&nbsp;"b",&nbsp;"b"]}}</br></code></p><p><div><p>We can evaluate R code and immediately return the result as a java object, without ever creating a handle to an R object holding the result:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;REXPDouble))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;org.rosuda.REngine.REXPDouble]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"1+2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval-r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.asDoubles)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[3.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[3.0]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="more-data-conversion-examples">~~~~more-data-conversion-examples~~~~</a></div></p></p><p><div><h2>More data conversion examples</h2></div></p><p><div><p>Convertion between R and Clojure always passes through Java. To stress this, we write it explicitly in the following examples.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"list(a=1:2,b='hi!')"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;"table(c('a','b','a','b','a','b','a','b'),&nbsp;c(1,1,2,2,3,3,1,1))"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;{["1"&nbsp;"a"]&nbsp;2,</br>&nbsp;&nbsp;["1"&nbsp;"b"]&nbsp;2,</br>&nbsp;&nbsp;["2"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["2"&nbsp;"b"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"a"]&nbsp;1,</br>&nbsp;&nbsp;["3"&nbsp;"b"]&nbsp;1}]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;["hi!"]}]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;{:a&nbsp;[1&nbsp;2],&nbsp;:b&nbsp;"hi!"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((r&nbsp;"deparse"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj)</br></code></div></div></p><code class="prettyprint lang-clj">["structure(list(a&nbsp;=&nbsp;1:2,&nbsp;b&nbsp;=&nbsp;\"hi!\"),&nbsp;.Names&nbsp;=&nbsp;c(\"a\",&nbsp;\"b\"))"]</br></code></p><p><div><h3>Basic types convertion clj->r->clj</h3></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;clj->r->clj&nbsp;(comp&nbsp;r->clj&nbsp;r))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;nil)&nbsp;nil)</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;[10&nbsp;11])&nbsp;[10&nbsp;11])</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[10&nbsp;11]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;[10.0&nbsp;11.0])&nbsp;[10.0&nbsp;11.0])</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;(list&nbsp;10.0&nbsp;11.0))&nbsp;[10.0&nbsp;11.0])</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;11.0]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(clj->r->clj&nbsp;{:a&nbsp;1,&nbsp;:b&nbsp;2})&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]})</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1],&nbsp;:b&nbsp;[2]}]</br></code></p><p><div><h3>Various R objects</h3></div></p><p><div><p>Named list</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"list(a=1,b=c(10,20),c='hi!')")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:a&nbsp;[1.0],&nbsp;:b&nbsp;[10.0&nbsp;20.0],&nbsp;:c&nbsp;["hi!"]}]</br></code></p><p><div><p>Array of doubles</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"c(10,20,30)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[10.0&nbsp;20.0&nbsp;30.0]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[10.0&nbsp;20.0&nbsp;30.0]]</br></code></p><p><div><p>Timeseries</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;r.datasets/euro)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;13.7603))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;13.7603]</br></code></p><p><div><p>Pairlist</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r.base/formals&nbsp;r.stats/dnorm)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;'(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;(:log&nbsp;:mean&nbsp;:sd&nbsp;:x)]</br></code></p><p><div><p>NULL</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"NULL")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;nil))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;nil]</br></code></p><p><div><p>TRUE/FALSE</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;(r&nbsp;"TRUE")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;[true]))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[true]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="inspecting-R-functions">~~~~inspecting-R-functions~~~~</a></div></p></p><p><div><h2>Inspecting R functions</h2></div></p><p><div><p>The <code>mean</code> function is defined to expect arguments <code>x</code> and <code>...</code>. These arguments have no default values (thus, its formals have empty symbols as values):</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'mean</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:...&nbsp;(symbol&nbsp;"")}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:...&nbsp;}]</br></code></p><p><div><p>It is an <a href='http://adv-r.had.co.nz/S3.html'>S3 generic function</a> function, which we can realize by printing it:</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;'mean)</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;...)&nbsp;</br>UseMethod("mean")</br><bytecode:&nbsp;0x7fffe29f9648></br><environment:&nbsp;namespace:base></br></br></code></p><p><div><p>So, we can expect possibly more details when inspecting its default implementation. Now, we see some arguments that do have default values.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->>&nbsp;'mean.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.base/formals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;{:x&nbsp;(symbol&nbsp;""),&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;(symbol&nbsp;"")}))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;{:x&nbsp;,&nbsp;:trim&nbsp;[0.0],&nbsp;:na.rm&nbsp;[false],&nbsp;:...&nbsp;}]</br></code></p><hr /><div>Checks: <b><b style="color:green">56 PASSED </b></b><hr /></div><div><i><small><a href="https://github.com/genmeblog/clojuress/tree/master/test/clojuress/v1/tutorial_test.clj">clojuress.v1.tutorial-test</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Fri Feb 07 10:27:37 CET 2020.</small></i><hr /></div></div></body></html>